[gd_scene load_steps=10 format=3 uid="uid://cilul41id8eno"]

[ext_resource type="Script" uid="uid://b0er2tvfh44gs" path="res://enemy/enemy.gd" id="1_2mvqj"]
[ext_resource type="Script" uid="uid://bgcqn6tjnhu6h" path="res://addons/LineRenderer/line_renderer.gd" id="2_1wwld"]
[ext_resource type="PackedScene" uid="uid://cuyv7nb4q6ra1" path="res://enemy/stickman.glb" id="2_ofsxj"]
[ext_resource type="PackedScene" uid="uid://srsx0nh1y4bg" path="res://gun/revolver.glb" id="3_ppra6"]
[ext_resource type="PackedScene" uid="uid://84qjmolqrdxk" path="res://enemy/cowboyjacket.glb" id="4_p200p"]
[ext_resource type="PackedScene" uid="uid://eli3k4g665tk" path="res://enemy/hat.glb" id="5_pmsee"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_scxef"]
radius = 0.3
height = 1.8

[sub_resource type="Curve3D" id="Curve3D_2mvqj"]

[sub_resource type="ImmediateMesh" id="ImmediateMesh_1wwld"]

[node name="Enemy" type="CharacterBody3D" node_paths=PackedStringArray("animation_player", "nav_agent", "path_3d", "path_follow", "line_renderer")]
collision_layer = 2
script = ExtResource("1_2mvqj")
animation_player = NodePath("stickman/AnimationPlayer")
nav_agent = NodePath("NavigationAgent3D")
path_3d = NodePath("Path3D")
path_follow = NodePath("Path3D/PathFollow3D")
line_renderer = NodePath("Path3D/LineRenderer3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
shape = SubResource("CapsuleShape3D_scxef")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]

[node name="Path3D" type="Path3D" parent="."]
top_level = true
curve = SubResource("Curve3D_2mvqj")

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D"]

[node name="LineRenderer3D" type="MeshInstance3D" parent="Path3D"]
mesh = SubResource("ImmediateMesh_1wwld")
script = ExtResource("2_1wwld")
metadata/_custom_type_script = "uid://bgcqn6tjnhu6h"

[node name="stickman" parent="." instance=ExtResource("2_ofsxj")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)

[node name="Circle" parent="stickman/rig/Skeleton3D" index="0"]
lod_bias = 128.0

[node name="HandAttachment" type="BoneAttachment3D" parent="stickman/rig/Skeleton3D" index="1"]
transform = Transform3D(-0.0693201, -0.991522, 0.109903, 0.988366, -0.0832108, -0.127309, 0.135375, 0.0997994, 0.985756, -0.692153, 1.33295, -0.00654114)
bone_name = "DEF-hand.R"
bone_idx = 174

[node name="revolver2" parent="stickman/rig/Skeleton3D/HandAttachment" instance=ExtResource("3_ppra6")]
transform = Transform3D(-0.0145276, 0.0198379, 0.999697, 0.970766, 0.239848, 0.00934753, -0.23959, 0.970608, -0.0227423, 0.012982, 0.129356, 0.0916709)

[node name="TorsoAttachment" type="BoneAttachment3D" parent="stickman/rig/Skeleton3D" index="2"]
transform = Transform3D(1, 1.42109e-14, 2.38419e-07, 1.1546e-07, 0.874915, -0.484276, -2.08596e-07, 0.484275, 0.874916, 0, 1.37236, -0.00943485)
bone_name = "DEF-spine.004"
bone_idx = 5

[node name="cowboyjacket2" parent="stickman/rig/Skeleton3D/TorsoAttachment" instance=ExtResource("4_p200p")]
transform = Transform3D(-0.0396919, 0.000413286, -0.999212, 0.470384, 0.882272, -0.0183203, 0.881569, -0.470741, -0.0352135, -0.0140792, -0.206312, 0.116019)

[node name="HeadAttachment" type="BoneAttachment3D" parent="stickman/rig/Skeleton3D" index="3"]
transform = Transform3D(1, -1.42109e-13, 2.38419e-07, 3.22409e-13, 1, -5.96046e-07, -2.38419e-07, 4.17233e-07, 1, 4.86309e-16, 1.42919, 0.0204423)
bone_name = "DEF-spine.006"
bone_idx = 7

[node name="hat" parent="stickman/rig/Skeleton3D/HeadAttachment" instance=ExtResource("5_pmsee")]
transform = Transform3D(-4.37114e-08, 3.38813e-21, 1, 0, 1, -3.38813e-21, -1, 0, -4.37114e-08, -4.88498e-15, 0.334602, 9.31323e-09)

[editable path="stickman"]
